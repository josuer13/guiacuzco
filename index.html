<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gu√≠a Cuzco</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <style>
      .nav-link:hover {
        background-color: #f1f1f1
      }
      .nav-link.active:hover {
        background-color: #0b5ed7;
      }
      .input-group-text {
        background-color: #fff;
        border-left: 0;
        cursor: pointer;
      }
      .input-group .form-control {
        border-right: 0;
      }
      .input-group-text i {
        color: #6c757d;
        font-size: 1.1rem;
      }
      .input-group-text:hover i {
        color: #0d6efd;
      }

</style>
  </head>
  <body>

    <div class="d-flex flex-column flex-shrink-0 bg-light p-3 position-fixed top-0 start-0 h-100 border-end" style="width:220px;">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
        <span class="fs-4">Gu√≠a Cuzco</span>
      </a>
      <hr>
      <ul class="nav nav-pills flex-column mb-auto">
        <li>
          <a href="index.html" class="nav-link active">
            <i class="bi bi-house-door-fill me-3"></i> Inicio
          </a>
        </li>
        <li>
          <a href="sitios.html" class="nav-link link-body-emphasis">
            <i class="bi bi-bank2 me-3"></i> Sitios tur√≠sticos
          </a>
        </li>
        <li>
          <a href="platos.html" class="nav-link link-body-emphasis">
            <i class="bi bi-egg-fried me-3"></i> Platos t√≠picos
          </a>
        </li>
        <li>
          <a href="historia.html" class="nav-link link-body-emphasis">
            <i class="bi bi-book-fill me-3"></i> Historia
          </a>
        </li>
        <li>
          <a href="rese√±as.html" class="nav-link link-body-emphasis">
            <i class="bi bi-star-fill me-3"></i> Rese√±as
          </a>
        </li>

        <hr>

        <li class="nav-item dropdown">
        <a href="#" class="nav-link link-body-emphasis dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
          <span id="sidebarProfileIcon" class="bi bi-person-circle me-2 fs-5"></span>
          <img id="sidebarProfileImg" class="rounded-circle me-2 d-none" width="24" height="24" alt="Foto de perfil">
          <span id="profile-name">Perfil</span>
        </a>
        
        <ul class="dropdown-menu text-small shadow">
              <li><a class="dropdown-item" href="#" id="reviewsLink" data-bs-toggle="modal" data-bs-target="#reviewsModal">Mis rese√±as</a></li>
              <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#settingsModal">Configuraci√≥n</a></li>
              <li><a class="dropdown-item" href="#" id="editProfileLink" data-bs-toggle="modal" data-bs-target="#editProfileModal">Editar perfil</a></li>
          <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Cerrar sesi√≥n</a></li>
        </ul>
      </li>



      <div class="mt-auto pt-3 d-flex justify-content-center gap-2" style="position: absolute; bottom: 20px; left: 20px; right: 20px;">
        <a href="#" class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#signUpModal">
          Crear Cuenta
        </a>
        <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#signInModal">
          Iniciar Sesi√≥n
        </button>
      </div>


    </div>

<main class="flex-grow-1 d-flex flex-column align-items-center p-0 m-0">

  <!-- Hero -->
  <div class="text-center" style="max-width: 800px;">
    <h1>Bienvenido a la Gu√≠a de Cuzco</h1>
    <p>
      Explora el coraz√≥n del Imperio Inca. Esta gu√≠a te llevar√° a descubrir los rincones m√°s emblem√°ticos 
      de Cuzco, desde sus imponentes sitios arqueol√≥gicos hasta sus calles llenas de historia y cultura viva.
    </p>
    <img src="img/machupicchu.jpg" style="height: 350px; width: auto;"
         alt="Machu Picchu" class="img-fluid rounded shadow mt-3">
  </div>

  <section class="py-5 mt-5">
  <div class="container text-center">
    <h2 class="text-center mb-2">Descubre Cuzco con nosotros</h2>
    <p class="text-muted mb-5">Nuestro sitio te ofrece una experiencia completa para conocer la historia, cultura y lugares de Cuzco de forma clara, visual y moderna.</p>

    <div class="row align-items-center mb-5">
      <div class="col-md-6 text-start">
        <h3 class="fw-bold">üìò Informaci√≥n Clara y Organizada</h3>
        <p>Accede a secciones bien estructuradas que te permiten explorar la historia, cultura y lugares m√°s emblem√°ticos sin perderte entre datos dispersos.</p>
        <p class="text-muted">Todo est√° pensado para que aprendas r√°pido y disfrutes del contenido.</p>
      </div>
      <div class="col-md-6">
        <img src="img/estructura.png" class="img-fluid rounded shadow" alt="Organizaci√≥n del contenido">
      </div>
    </div>

    <div class="row align-items-center mb-5 flex-md-row-reverse">
      <div class="col-md-6 text-start">
        <h3 class="fw-bold">üñºÔ∏è Dise√±o Visual e Intuitivo</h3>
        <p>Las im√°genes, √≠conos y colores te gu√≠an por la p√°gina para que aprendas visualmente, no solo leyendo. Cada parte del sitio est√° hecha para inspirar y ense√±ar.</p>
        <p class="text-muted">Ideal tanto para turistas como para curiosos que quieren conocer m√°s de Cuzco.</p>
      </div>
      <div class="col-md-6">
        <img src="img/visual.png" class="img-fluid rounded shadow" alt="Dise√±o intuitivo">
      </div>
    </div>

    <div class="row align-items-center">
      <div class="col-md-6 text-start">
        <h3 class="fw-bold">üåê Enlaces y Recursos √ötiles</h3>
        <p>Explora sitios confiables, fuentes hist√≥ricas y contenido externo cuidadosamente seleccionado que complementa lo que ves aqu√≠.</p>
        <p class="text-muted">Aprende m√°s con solo un clic desde nuestras secciones.</p>
      </div>
      <div class="col-md-6">
        <img src="img/recursos.png" class="img-fluid rounded shadow" alt="Recursos y enlaces">
      </div>
    </div>
  </div>
</section>


  <!-- Cultura viva -->
  <section class="container py-5">

    <h2 class="text-center mb-5">Vive la esencia de Cuzco</h2>

    <div class="row align-items-center">
      <div class="col-md-6 mb-4 mb-md-0">
        <img src="img/cultura.jpg" class="img-fluid rounded shadow" alt="Cultura Cusque√±a">
      </div>
      <div class="col-md-6">
        <h2>Una Cultura Viva</h2>
        <p class="text-muted">
          En Cuzco, las tradiciones incas y espa√±olas conviven en perfecta armon√≠a. Las festividades, los textiles, la m√∫sica 
          y la gastronom√≠a son parte del legado que los cusque√±os mantienen con orgullo.
        </p>
        <p class="text-muted">
          Desde la famosa fiesta del Inti Raymi hasta los mercados artesanales de San Blas, cada experiencia te conecta 
          con un pasado que sigue latiendo en el presente.
        </p>
      </div>
    </div>
  </section>

  <!-- Arquitectura incaica -->
  <section class="container py-5">
    <div class="row align-items-center flex-md-row-reverse">
      <div class="col-md-6 mb-4 mb-md-0">
        <img src="img/arquitectura.webp" class="img-fluid rounded shadow" alt="Arquitectura Inca" style="width: 100%; height: auto;">
      </div>
      <div class="col-md-6">
        <h2>Arquitectura Incaica</h2>
        <p class="text-muted">
          Las piedras de Cuzco hablan. Los muros perfectamente encajados, sin cemento ni mortero, son testimonio 
          de una ingenier√≠a adelantada a su tiempo.
        </p>
        <p class="text-muted">
          En cada templo, calle y muro, la precisi√≥n inca sigue desafiando a los siglos y maravillando a arquitectos y viajeros.
        </p>
      </div>
    </div>
  </section>

  <!-- Arte y espiritualidad -->
  <section class="container py-5">
    <div class="row align-items-center">
      <div class="col-md-6 mb-4 mb-md-0">
        <img src="img/arte-espiritualidad.jpg" class="img-fluid rounded shadow" alt="Arte y espiritualidad">
      </div>
      <div class="col-md-6">
        <h2>Arte y Espiritualidad</h2>
        <p class="text-muted">
          El arte cusque√±o es una fusi√≥n de creencias. Iglesias coloniales se levantan sobre antiguos templos incas, 
          simbolizando siglos de sincretismo espiritual.
        </p>
        <p class="text-muted">
          La Escuela Cusque√±a de pintura, con su estilo √∫nico, es una de las expresiones art√≠sticas m√°s destacadas de Am√©rica Latina.
        </p>
      </div>
    </div>
  </section>

  <!-- Tradiciones y festividades -->
  <section class="bg-white py-5 w-100">
    <div class="container text-center">
    <h2 class="text-center mb-2">Tradiciones que Perduran</h2>
      <p class="text-muted mb-5" style="max-width: 700px; margin: 0 auto;">
        Cada mes, Cuzco se viste de fiesta. Las danzas, la m√∫sica y los colores reflejan el alma del pueblo andino.  
        Desde el Corpus Christi hasta la Virgen del Carmen, la devoci√≥n y la alegr√≠a llenan las calles.
      </p>
      <div class="row g-4">
        <div class="col-md-4">
          <img src="img/inti-raymi.jpg" class="img-fluid rounded shadow-sm" alt="Inti Raymi" style="height: 300px; object-fit: cover;">
          <h5 class="mt-3 fw-bold">Inti Raymi</h5>
          <p class="text-muted small">Celebraci√≥n inca del Sol, s√≠mbolo de renacimiento y energ√≠a espiritual.</p>
        </div>
        <div class="col-md-4">
          <img src="img/virgen-carmen.jpg" class="img-fluid rounded shadow-sm" alt="Virgen del Carmen" style="height: 300px; object-fit: cover;">
          <h5 class="mt-3 fw-bold">Virgen del Carmen</h5>
          <p class="text-muted small">Fiesta llena de color, danza y fe, donde el sincretismo se hace arte vivo.</p>
        </div>
        <div class="col-md-4">
          <img src="img/corpus-christi.jpg" class="img-fluid rounded shadow-sm" alt="Corpus Christi" style="height: 300px; object-fit: cover;">
          <h5 class="mt-3 fw-bold">Corpus Christi</h5>
          <p class="text-muted small">Las im√°genes de santos recorren la Plaza de Armas en una procesi√≥n majestuosa.</p>
        </div>
      </div>
    </div>
  </section>

<!-- Secci√≥n de features -->
  <section class="bg-white py-5 w-100">
    <div class="container">
    <h2 class="text-center mb-2">Sigue Descubriendo</h2>
    <p class="text-center text-muted mb-4"> Explora m√°s sobre Cuzco en nuestras secciones dedicadas a sitios tur√≠sticos, gastronom√≠a, historia y rese√±as de visitantes.</p>
      <div class="row g-4">
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <img src="img/sacsayhuaman.JPG" class="card-img-top" alt="Sitios tur√≠sticos" style="height: 205.5px">
            <div class="card-body text-center">
              <h5 class="card-title">Sitios Tur√≠sticos</h5>
              <p class="card-text">Explora Machu Picchu, el Valle Sagrado y las maravillas del Cusco.</p>
              <a href="sitios.html" class="btn btn-primary btn-sm">Ver m√°s</a>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <img src="img/cuy chactado.jpg" class="card-img-top" alt="Restaurantes">
            <div class="card-body text-center">
              <h5 class="card-title">Gastronom√≠a</h5>
              <p class="card-text">Prueba el cuy al horno, la pachamanca y los sabores ancestrales andinos.</p>
              <a href="platos.html" class="btn btn-primary btn-sm">Ver m√°s</a>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <img src="img/catedral.JPG" class="card-img-top" alt="Historia">
            <div class="card-body text-center">
              <h5 class="card-title">Historia</h5>
              <p class="card-text">Descubre c√≥mo el Imperio Inca y la colonia dejaron huella en la ciudad.</p>
              <a href="historia.html" class="btn btn-primary btn-sm">Ver m√°s</a>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <img src="img/plaza de armas.jpg" class="card-img-top" alt="Rese√±as">
            <div class="card-body text-center">
              <h5 class="card-title">Rese√±as</h5>
              <p class="card-text">Conoce la experiencia de otros viajeros y prepara mejor tu viaje.</p>
              <a href="resenas.html" class="btn btn-primary btn-sm">Ver m√°s</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

<!-- CTA final -->
<section class="text-center py-5 bg-light border-top w-100 container-fluid" style="margin-bottom:-24px;">
  <h2 class="fw-bold">¬øListo para descubrir Cuzco?</h2>
  <p class="text-muted mb-2" style="max-width: 700px; margin: 0 auto;">
    Tu aventura comienza aqu√≠. Nuestro pr√≥ximo art√≠culo contiene informaci√≥n sobre los Sitios Tur√≠sticos m√°s famosos de la Ciudad Imperial del Cuzco.
  </p>
  <a href="sitios.html" class="btn btn-primary btn-md mt-3">Empieza tu viaje</a>
</section>

</main>

    <!-- Modal Iniciar Sesi√≥n -->

   <div class="modal fade" id="signInModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Iniciar Sesi√≥n</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>

        <div class="modal-body">
          <form>

            <div class="mb-3">
              <label for="username" class="form-label">Usuario</label>
              <input type="text" class="form-control" id="username" placeholder="Ingresa tu usuario">
            </div> 

            <div class="mb-3">
              <label for="password" class="form-label">Contrase√±a</label>
              <input type="password" class="form-control" id="password" placeholder="Ingresa tu contrase√±a">
            </div>

            <button type="submit" class="btn btn-primary w-100">Entrar</button>

          </form>
        </div>

        </div>
      </div>
    </div>

<!-- Modal Crear Cuenta -->
<div class="modal fade" id="signUpModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-sm">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Crear Cuenta</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>

      <div class="modal-body">
        <form id="signUpForm">

          <div class="mb-3">
            <label for="newuser" class="form-label">Usuario</label>
            <input type="text" class="form-control" id="newuser" placeholder="Nombre de usuario" maxlength="15" minlength="3" required>
          </div>

          <div class="mb-3">
            <label for="newname" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="newname" placeholder="Tu nombre" maxlength="15">
          </div>

          <div class="mb-3">
            <label for="newemail" class="form-label">Correo</label>
            <input type="email" class="form-control" id="newemail" placeholder="ejemplo@mail.com" required>
          </div>

          <div class="mb-3">
            <label for="newpassword" class="form-label">Contrase√±a</label>
            <input type="password" class="form-control" id="newpassword" placeholder="Crea una contrase√±a" minlength="6" required>
          </div>

          <button type="submit" class="btn btn-primary w-100">Registrarse</button>

        </form>
      </div>

    </div>
  </div>
</div>


    <!-- Modal Mis Rese√±as -->

<div class="modal fade" id="reviewsModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title">Mis Rese√±as</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">
          <p>Tu rese√±a actual:</p>
          <p id="user-review" class="text-muted">A√∫n no has publicado ninguna rese√±a.</p>
          <button class="btn btn-outline-primary w-100" id="editReviewBtn">Editar rese√±a</button>
        </div>

    </div>
  </div>
</div>



<!-- Modal Configuraci√≥n -->
<div class="modal fade" id="settingsModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Configuraci√≥n</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <!-- Idioma (no funcional) -->
        <div class="mb-4">
          <label class="form-label fw-bold">Idioma</label>
          <select class="form-select form-select-sm" disabled>
            <option selected>Espa√±ol</option>
            <option>Ingl√©s</option>
          </select>
          <small class="text-muted d-block mt-1">Esta funci√≥n a√∫n no est√° activa.</small>
        </div>

        <!-- Modo oscuro como t√≠tulo -->
        <div class="mb-2">
          <label class="form-label fw-bold">Modo oscuro</label>
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" id="darkModeSwitch" disabled>
          <label class="form-check-label" for="darkModeSwitch">Activar modo oscuro</label>
          <small class="text-muted d-block mt-1">Esta funci√≥n a√∫n no est√° activa.</small>
        </div>

      </div>

    </div>
  </div>
</div>






<!-- Modal Editar Perfil -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Editar Perfil</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <form id="editProfileForm">

          <!-- Usuario (no editable) -->
          <div class="mb-3">
            <label for="editUser" class="form-label">Usuario</label>
            <input type="text" class="form-control" id="editUser" disabled>
            <div class="form-text">No puedes cambiar tu usuario, solo tu nombre global.</div>
          </div>

          <!-- Nombre editable -->
          <div class="mb-3">
            <label for="editName" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="editName" maxlength="18">
          </div>

          <!-- Foto -->
          <div class="text-center mb-3 mt-4">
            <img id="editProfileImg" src="img/perfil.png" class="rounded-circle shadow-sm mb-2" width="80" height="80" alt="Foto de perfil">
            <input type="file" id="editPhotoInput" class="form-control form-control-sm" accept="image/*">
          </div>

          <div class="d-flex flex-column gap-2 mt-4">
            <button type="submit" class="btn btn-primary w-100">Guardar cambios</button>
            <button type="button" class="btn btn-outline-danger w-100" data-bs-toggle="modal" data-bs-target="#changePasswordModal">Cambiar contrase√±a</button>
          </div>

        </form>
      </div>

    </div>
  </div>
</div>

<!-- Modal Cambiar Contrase√±a -->
<div class="modal fade" id="changePasswordModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title">Cambiar Contrase√±a</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <form id="changePasswordForm">

          <div class="mb-3">
            <label for="currentPassword" class="form-label">Contrase√±a actual</label>
            <input type="password" class="form-control" id="currentPassword" required>
          </div>

          <div class="mb-3">
            <label for="newPassword" class="form-label">Nueva contrase√±a</label>
            <input type="password" class="form-control" id="newPassword" minlength="6" required>
          </div>

          <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirmar nueva contrase√±a</label>
            <input type="password" class="form-control" id="confirmPassword" minlength="6" required>
          </div>

          <button type="submit" class="btn btn-danger w-100">Guardar nueva contrase√±a</button>

        </form>
      </div>

    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const perfil = document.getElementById("profile-name");
  const signUpForm = document.getElementById("signUpForm");
  const editUser = document.getElementById("editUser");
  const editName = document.getElementById("editName");

  const reviewsLink = document.getElementById("reviewsLink");
  const editProfileLink = document.getElementById("editProfileLink");

  const sidebarProfileIcon = document.getElementById("sidebarProfileIcon");
  const sidebarProfileImg = document.getElementById("sidebarProfileImg");
  const editProfileImg = document.getElementById("editProfileImg");
  const editPhotoInput = document.getElementById("editPhotoInput");

  const changePasswordForm = document.getElementById("changePasswordForm");

  let usuario = "";
  let nombre = "";
  let foto = "";
  let passwordActual = "";
  let nuevaFoto = false;

  // Al inicio: deshabilitar opciones de perfil
  reviewsLink.classList.add("disabled");
  editProfileLink.classList.add("disabled");
  reviewsLink.setAttribute("tabindex", "-1");
  editProfileLink.setAttribute("tabindex", "-1");

  // Crear cuenta
  signUpForm.addEventListener("submit", e => {
    e.preventDefault();

    usuario = document.getElementById("newuser").value.trim() || "usuario";
    nombre = document.getElementById("newname").value.trim() || usuario;
    passwordActual = document.getElementById("newpassword").value.trim();

    perfil.textContent = nombre;
    editUser.value = usuario;
    editName.value = nombre;

    // Habilitar opciones
    reviewsLink.classList.remove("disabled");
    editProfileLink.classList.remove("disabled");
    reviewsLink.removeAttribute("tabindex");
    editProfileLink.removeAttribute("tabindex");

    // Mostrar √≠cono por defecto si no hay foto
    if (!foto) {
      sidebarProfileIcon.classList.remove("d-none");
      sidebarProfileImg.classList.add("d-none");
    }

    alert(`Cuenta creada con √©xito.\n\nUsuario: ${usuario}\nNombre: ${nombre}\nContrase√±a: ${passwordActual}`);

    bootstrap.Modal.getInstance(document.getElementById("signUpModal")).hide();
  });

  // Editar perfil
  document.getElementById("editProfileForm").addEventListener("submit", e => {
    e.preventDefault();

    const nuevoNombre = editName.value.trim() || usuario;
    let mensaje = "";

    if (nuevoNombre !== nombre && nuevaFoto) {
      mensaje = "Tu nombre y foto se han actualizado correctamente.";
    } else if (nuevoNombre !== nombre) {
      mensaje = "Tu nombre se ha actualizado correctamente.";
    } else if (nuevaFoto) {
      mensaje = "Tu foto de perfil se ha actualizado correctamente.";
    } else {
      mensaje = "No hiciste ning√∫n cambio.";
    }

    nombre = nuevoNombre;
    perfil.textContent = nombre;
    nuevaFoto = false;

    alert(mensaje);

    bootstrap.Modal.getInstance(document.getElementById("editProfileModal")).hide();
  });

  // Cambiar foto de perfil
  editPhotoInput.addEventListener("change", e => {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = ev => {
        foto = ev.target.result;
        nuevaFoto = true;

        sidebarProfileImg.src = foto;
        sidebarProfileImg.classList.remove("d-none");
        sidebarProfileIcon.classList.add("d-none");

        editProfileImg.src = foto;
      };
      reader.readAsDataURL(file);
    }
  });

  // Cambiar contrase√±a
  changePasswordForm.addEventListener("submit", e => {
    e.preventDefault();

    const actual = document.getElementById("currentPassword").value.trim();
    const nueva = document.getElementById("newPassword").value.trim();
    const confirmar = document.getElementById("confirmPassword").value.trim();

    if (actual === "" || nueva === "" || confirmar === "") {
      alert("Por favor completa todos los campos.");
      return;
    }

    if (actual !== passwordActual) {
      alert("La contrase√±a actual es incorrecta.");
      return;
    }

    if (nueva.length < 6) {
      alert("La nueva contrase√±a debe tener al menos 6 caracteres.");
      return;
    }

    if (nueva !== confirmar) {
      alert("Las contrase√±as nuevas no coinciden.");
      return;
    }

    passwordActual = nueva;
    alert("Tu contrase√±a se ha cambiado exitosamente.");

    // Cerrar modal de cambio de contrase√±a
    bootstrap.Modal.getInstance(document.getElementById("changePasswordModal")).hide();

    // Limpiar campos
    changePasswordForm.reset();
  });
});
</script>

  </body>
</html>